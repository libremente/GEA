<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:c="http://java.sun.com/jsp/jstl/core">


<p:fieldset legend="Informazioni Generali espandere/comprimere" toggleable="true"
	collapsed="false" toggleSpeed="500" >

	<p:panelGrid styleClass="infoTable" id="infogeneralipane">
		<p:row>
			<p:column>
				<h:outputText style="font-weight: bold;" value="Legislatura: " />
				<h:outputText value="#{attoBean.legislatura}" />
			</p:column>

			<p:column>
				<h:outputText style="font-weight: bold;" value="Tipo Atto: " />
				<h:outputText value="#{attoBean.tipoAtto}" />
			</p:column>

			<p:column>
				<h:outputText style="font-weight: bold;" value="N° Atto: " />
				<h:outputText value="#{attoBean.numeroAtto}" />
			</p:column>
		</p:row>

		<p:row>
			<p:column colspan="3">
				<h:outputText style="font-weight: bold;" value="Stato Attuale: " />
				<h:outputText value="#{attoBean.statoAttuale}" />
			</p:column>
		</p:row>
		<p:row>
			<p:column>
				<h:outputText style="font-weight: bold;" value="Classificazione: " />
				<h:outputText value="#{attoBean.classificazione}" />
			</p:column>

			<p:column>
				<h:outputText style="font-weight: bold;" value="N° Repertorio: " />
				<h:outputText value="#{attoBean.numeroRepertorio}" />
			</p:column>

			<p:column>
				<h:outputText style="font-weight: bold;" value="Data Repertorio: " />
				<h:outputText value="#{attoBean.dataRepertorio}" >
				<f:convertDateTime locale="it_IT" pattern="dd/MM/yyyy" />
				</h:outputText>
			</p:column>
		</p:row>

		<p:row>
			<p:column>
				<h:outputText style="font-weight: bold;" value="Data Iniziativa: " />
				<h:outputText value="#{attoBean.dataIniziativa}" >
				<f:convertDateTime locale="it_IT" pattern="dd/MM/yyyy" />
				</h:outputText>
			</p:column>

			<p:column colspan="2">
				<h:outputText style="font-weight: bold;" value="Tipo Iniziativa: " />
				<h:outputText value="#{attoBean.tipoIniziativa}" />
			</p:column>


		</p:row>

		<p:row style="margin-bottom:20px">
			<p:column colspan="3">
				<h:outputText style="font-weight: bold;" value="Oggetto: " />
				<h:outputText value="#{attoBean.oggetto}" />
			</p:column>

		</p:row>

		<p:row>
			<p:column colspan="3">

				<h:dataTable styleClass="generalInfoTab"
					value="#{attoBean.atto.firmatari}" var="firmatario">

					<h:column>
						<f:facet name="header">Primo firmatario</f:facet>
					
					<h:outputText value="si" rendered="#{firmatario.primoFirmatario}" />
							<h:outputText value="no"
								rendered="#{!firmatario.primoFirmatario}" />
				    </h:column>

					<h:column>
						<f:facet name="header">Nome Firmatario</f:facet>
					#{firmatario.descrizione}
					
				    </h:column>

					<h:column>
						<f:facet name="header">Data Firma</f:facet>

						<h:outputText value="#{firmatario.dataFirma}">
							<f:convertDateTime locale="it_IT" pattern="dd/MM/yyyy" />
						</h:outputText>	
					</h:column>
					<h:column>
						<f:facet name="header">Data Ritiro</f:facet>
						<h:outputText value="#{firmatario.dataRitiro}">
							<f:convertDateTime locale="it_IT" pattern="dd/MM/yyyy" />
						</h:outputText>
						
					</h:column>



				</h:dataTable>
				<h:outputText value="Nessun firmatario"
					rendered="#{empty attoBean.atto.firmatari}">
				</h:outputText>


			</p:column>
		</p:row>

		<p:row>
			<p:column colspan="3">

				<h:dataTable styleClass="generalInfoTab"
					value="#{attoBean.atto.abbinamenti}" var="abbinamento">

					<h:column>
						<f:facet name="header">Abbinamenti</f:facet>
							#{abbinamento}
    			       </h:column>

					<h:column>
						<f:facet name="header">
						</f:facet>

					</h:column>

				</h:dataTable>
				<h:outputText value="Nessun abbinamento"
					rendered="#{empty attoBean.atto.abbinamenti}">
				</h:outputText>
			</p:column>
		</p:row>

	</p:panelGrid>

</p:fieldset>

<p:fieldset legend="Assegnazioni Pareri (espandere/comprimere)"
	collapsed="false" toggleable="true" toggleSpeed="500">
	<p:panelGrid styleClass="infoTable" id="infoUffServSegrComm">
		<p:row>
			<p:column>
				<h:outputText style="font-weight: bold;" value="Data Assegnazione: " />
				<h:outputText value="#{attoBean.dataAssegnazione}" >
				<f:convertDateTime locale="it_IT" pattern="dd/MM/yyyy" />
				</h:outputText>
			</p:column>

			<p:column>
				<h:outputText style="font-weight: bold;"
					value="Data presa in carico: " />
				<h:outputText value="#{attoBean.dataPresaInCarico}" >
				<f:convertDateTime locale="it_IT" pattern="dd/MM/yyyy" />
				</h:outputText>
			</p:column>
		</p:row>
		<p:row>
			<p:column>
				<h:outputText style="font-weight: bold;" value="Esito Validazione: " />
				<h:outputText value="#{attoBean.esitoValidazione}" />
			</p:column>

			<p:column>
				<h:outputText style="font-weight: bold;" value="Data Validazione: " />
				<h:outputText value="#{attoBean.dataValidazione}" >
				<f:convertDateTime locale="it_IT" pattern="dd/MM/yyyy" />
				</h:outputText>
			</p:column>
		</p:row>
		<p:row>
			<p:column colspan="2">
				<h:outputText style="font-weight: bold;"
					value="Data Assegnazione Commissioni:  " />
				<h:outputText value="#{attoBean.dataAssegnazioneCommissioni}" >
				<f:convertDateTime locale="it_IT" pattern="dd/MM/yyyy" />
				</h:outputText>
			</p:column>
		</p:row>
	</p:panelGrid>
</p:fieldset>

<p:fieldset id="fsCommissioni" legend="Commissioni espandere/comprimere" toggleable="true"
	collapsed="false" toggleSpeed="500">
	<p:panelGrid styleClass="infoTable" id="infoComm">
		<p:row>
			<p:column colspan="2">

				<h:dataTable styleClass="generalInfoTab"
					value="#{attoBean.atto.commissioni}" var="commissione">

					<h:column>
						<f:facet name="header">
						</f:facet>
						<p:commandButton
							update=":formRiepilogo:tabView:dettaglioCommissione"
							id="cmdBtn_#{commissione.nome}"
							action="#{riepilogoAttoController.showCommissioneDetail}"
							icon="detail-icon">

							<f:setPropertyActionListener value="#{commissione.nome}"
								target="#{riepilogoAttoController.nomeCommissione}" />

						</p:commandButton>
					</h:column>

					<h:column>
						<f:facet name="header">Nome Commissione</f:facet>
					 #{commissione.descrizione}
				</h:column>

					<h:column>
						<f:facet name="header">Ruolo</f:facet>
						
							#{commissione.ruolo}
					</h:column>
					<h:column>
						<f:facet name="header">Stato</f:facet>
						#{commissione.stato}
							
					</h:column>
				</h:dataTable>

			</p:column>
		</p:row>
	</p:panelGrid>

	<p:panelGrid styleClass="infoTable" id="dettaglioCommissione">

		<p:row>
			<p:column colspan="2">
				<h:outputText style="font-weight: bold;"
					value="#{riepilogoAttoController.commissioneSelected.descrizione}: " />

			</p:column>
		</p:row>

		<p:row>
			<p:column>
				<h:outputText style="font-weight: bold;" value="Data Assegnazione: " />
				<h:outputText
					value="#{riepilogoAttoController.commissioneSelected.dataAssegnazione}">
					<f:convertDateTime locale="it_IT" pattern="dd/MM/yyyy" />
				</h:outputText>
			</p:column>

			<p:column>
				<h:outputText style="font-weight: bold;"
					value="Data Presa in Carico: " />
				<h:outputText
					value="#{riepilogoAttoController.commissioneSelected.dataPresaInCarico}">
					<f:convertDateTime locale="it_IT" pattern="dd/MM/yyyy" />
				</h:outputText>

			</p:column>
		</p:row>

		<p:row>
			<p:column>
				<h:outputText style="font-weight: bold;" value="Relatore: " />
				<h:outputText
					value="#{riepilogoAttoController.commissioneSelected.relatori}" />
			</p:column>

			<p:column>
				<h:outputText style="font-weight: bold;" value="Data Nomina: " />
				<h:outputText
					value="#{riepilogoAttoController.commissioneSelected.dataNomina}">
					<f:convertDateTime locale="it_IT" pattern="dd/MM/yyyy" />
				</h:outputText>
			</p:column>
		</p:row>

		<p:row>
			<p:column colspan="2">
				<h:outputText style="font-weight: bold;"
					value="Membri Comitato Ristretto: " />

				<h:outputText
					rendered="#{riepilogoAttoController.commissioneSelectedName eq 'CommissioneReferente'}"
					value="#{riepilogoAttoController.commissioneSelected.membriComitatoRistretto}" />


			</p:column>


		</p:row>

		<p:row>
			<p:column>
				<h:outputText style="font-weight: bold;"
					value="Data Apertura Lavori Comitato: " />
				<h:outputText
					value="#{riepilogoAttoController.commissioneSelected.dataAperturaLavoriComitato}">
					<f:convertDateTime locale="it_IT" pattern="dd/MM/yyyy" />
				</h:outputText>
			</p:column>

			<p:column>
				<h:outputText style="font-weight: bold;"
					value="Data Chiusura Lavori Comitato: " />
				<h:outputText
					value="#{riepilogoAttoController.commissioneSelected.dataChiusuraLavoriComitato}">
					<f:convertDateTime locale="it_IT" pattern="dd/MM/yyyy" />
				</h:outputText>
			</p:column>
		</p:row>

		<p:row>
			<p:column>
				<h:outputText style="font-weight: bold;" value="Tipo Votazione: " />

				<h:outputText
					value="#{riepilogoAttoController.commissioneSelected.tipoVotazione}" />
			</p:column>

			<p:column>
				<h:outputText style="font-weight: bold;" value="Data Votazione: " />
				<h:outputText
					value="#{riepilogoAttoController.commissioneSelected.dataVotazione}">
					<f:convertDateTime locale="it_IT" pattern="dd/MM/yyyy" />
				</h:outputText>
			</p:column>
		</p:row>

		<p:row>
			<p:column>
				<h:outputText style="font-weight: bold;" value="Esito Votazione: " />
				<h:outputText
					value="#{riepilogoAttoController.commissioneSelected.esitoVotazione}" />
			</p:column>

			<p:column>
				<h:outputText style="font-weight: bold;" value="Data Trasmissione: " />
				<h:outputText
					value="#{riepilogoAttoController.commissioneSelected.dataTrasmissione}">
					<f:convertDateTime locale="it_IT" pattern="dd/MM/yyyy" />
				</h:outputText>
			</p:column>
		</p:row>

	</p:panelGrid>

</p:fieldset>

<p:fieldset legend="Aula espandere/comprimere" toggleable="true" collapsed="false"
	toggleSpeed="500">
	<p:panelGrid styleClass="infoTable" id="infoAula">
		<p:row>
			<p:column>
				<h:outputText style="font-weight: bold;" value="Numero DCR: " />
				<h:outputText value="#{attoBean.numeroDCR}" />
			</p:column>

			<p:column>
				<h:outputText style="font-weight: bold;" value="Numero LCR: " />
				<h:outputText value="#{attoBean.numeroLCR}" />
			</p:column>
		</p:row>
		<p:row>
			<p:column>
				<h:outputText style="font-weight: bold;" value="Tipo Votazione: " />
				<h:outputText value="#{attoBean.tipoVotazione}" />
			</p:column>

			<p:column>
				<h:outputText style="font-weight: bold;" value="Data Seduta: " />
				<h:outputText value="#{attoBean.dataSeduta}" >
				<f:convertDateTime locale="it_IT" pattern="dd/MM/yyyy" />
				</h:outputText>
			</p:column>
		</p:row>
		<p:row>
			<p:column colspan="2">
				<h:outputText style="font-weight: bold;" value="Esito Votazione:  " />
				<h:outputText value="#{attoBean.esitoVotazione}" />
			</p:column>
		</p:row>
	</p:panelGrid>
</p:fieldset>

<p:fieldset legend="Chiusura iter espandere/comprimere" toggleable="true" collapsed="false"
	toggleSpeed="500">
	<p:panelGrid styleClass="infoTable" id="infoChiusuraIter">
		<p:row>
			<p:column>
				<h:outputText style="font-weight: bold;" value="Stato di chiusura: " />
				<h:outputText value="#{attoBean.statoChiusura}" />
			</p:column>

			<p:column>
				<h:outputText style="font-weight: bold;" value="Data Chiusura: " />
				<h:outputText value="#{attoBean.dataChiusura}" >
				<f:convertDateTime locale="it_IT" pattern="dd/MM/yyyy" />
				</h:outputText>
			</p:column>
		</p:row>
		<p:row>
			<p:column>
				<h:outputText style="font-weight: bold;"
					value="Data Pubblicazione BURL: " />
				<h:outputText value="#{attoBean.dataPubblicazioneBURL}" >
				<f:convertDateTime locale="it_IT" pattern="dd/MM/yyyy" />
				</h:outputText>
			</p:column>

			<p:column>
				<h:outputText style="font-weight: bold;"
					value="Numero Pubblicazione BURL: " />
				<h:outputText value="#{attoBean.numeroPubblicazioneBURL}" />
			</p:column>
		</p:row>
		<p:row>
			<p:column>
				<h:outputText style="font-weight: bold;" value="Numero LR:  " />
				<h:outputText value="#{attoBean.numeroLR}" />
			</p:column>
			<p:column>
				<h:outputText style="font-weight: bold;" value="Data LR:  " />
				<h:outputText value="#{attoBean.dataLR}" >
				<f:convertDateTime locale="it_IT" pattern="dd/MM/yyyy" />
				</h:outputText>
			</p:column>
		</p:row>
	</p:panelGrid>
</p:fieldset>

</html>
