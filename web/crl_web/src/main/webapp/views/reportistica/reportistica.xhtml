<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:form id="reportForm">

	<!-- <p:ajaxStatus onstart="statusDialog.show();"
		onsuccess="statusDialog.hide();" />
	<p:dialog modal="true" widgetVar="statusDialog" header="Caricamento"
		draggable="false" closable="false">
		<p:graphicImage value="resources/img/ajax_loading_bar.gif" />
	</p:dialog> -->
	<p:growl id="messages" showDetail="true" />

	<p:fieldset legend="Tipo di reports" toggleable="true"
		toggleSpeed="500">

		<p:panelGrid
			style="align:center;width:70%;margin-bottom:7px;border:1px solid #4F4F4F;"
			id="reportisticapanel">

			<f:facet name="header">
				<p:row>
					<p:column style="text-align:left" colspan="4">
						Reportistica:
			    </p:column>
				</p:row>
			</f:facet>

			<p:row>
				<p:column>

					<p:tree style="width:90%" id="docTree"
						value="#{reportisticaController.root}" var="node" dynamic="true"
						cache="false" selectionMode="single"
						selection="#{reportisticaController.selectedNode}">

						<p:ajax event="select" update=":reportForm:dettaglioPan"
							immediate="true"
							listener="#{reportisticaController.onNodeSelect}" />

						<p:treeNode expandedIcon="ui-icon-folder-open"
							collapsedIcon="ui-icon-folder-collapsed">
							<h:outputText value="#{node}" />
						</p:treeNode>

						<p:treeNode type="lettera" expandedIcon="ui-icon-folder-open"
							collapsedIcon="ui-icon-folder-collapsed" icon="ui-icon-document">
							<h:outputText value="#{node.nome}" />
						</p:treeNode>


					</p:tree>



				</p:column>
			</p:row>
		</p:panelGrid>
	</p:fieldset>


	<p:fieldset legend="Dettagli Report selezionato" collapsed="false"
		toggleable="true" toggleSpeed="500">

		<p:outputPanel id="dettaglioPan">

			<p:panelGrid styleClass="infoTable" id="insertletterapanel">


				<p:row rendered="#{reportisticaController.isTipiAttoVisible()}">

					<p:column>
						<h:outputLabel for="tipiAtto" value="Tipi di Atto: " />
					</p:column>

					<p:column>
						<p:selectManyCheckbox id="tipiAtto"
							value="#{reportisticaController.tipiAtto}" layout="pageDirection">
							<f:selectItems value="#{reportisticaController.tipiAttoSel}" />
						</p:selectManyCheckbox>
					</p:column>

				</p:row>

				<p:row rendered="#{reportisticaController.isCommissioniVisible()}">

					<p:column>
						<h:outputLabel for="commissioni" value="Commissioni: " />
					</p:column>

					<p:column>
						<p:selectManyCheckbox id="commissioni"
							value="#{reportisticaController.commissioni}"
							layout="pageDirection">
							<f:selectItems value="#{reportisticaController.commissioniSel}" />
						</p:selectManyCheckbox>
					</p:column>

				</p:row>


				<p:row
					rendered="#{reportisticaController.isRuoloCommissioneVisible()}">

					<p:column>
						<h:outputLabel for="ruoloComm" value="Competenza: " />
					</p:column>

					<p:column>
						<p:selectOneMenu  id="ruoloComm"
							value="#{reportisticaController.ruoloCommissione}"
							layout="pageDirection">
							<f:selectItem itemLabel="Scegli Ruolo" itemValue="" />
							<f:selectItem itemLabel="Referente" itemValue="Referente" />
							<f:selectItem itemLabel="Co-Referente" itemValue="Co-Referente" />
							<f:selectItem itemLabel="Consultiva" itemValue="Consultiva" />
							<f:selectItem itemLabel="Redigente" itemValue="Redigente" />
							<f:selectItem itemLabel="Deliberante" itemValue="Deliberante" />
						</p:selectOneMenu>
					</p:column>

				</p:row>


				<p:row
					rendered="#{reportisticaController.isDataAssegnazioneVisible()}">

					<p:column>
						Data Assegnazione  
					</p:column>

					<p:column>
						da : <p:calendar locale="it" pattern="dd/MM/yyyy" value="#{reportisticaController.dataAssegnazioneDa}"></p:calendar>
						a : <p:calendar locale="it" pattern="dd/MM/yyyy" value="#{reportisticaController.dataAssegnazioneA}"></p:calendar>
					</p:column>

				</p:row>

				<p:row
					rendered="#{reportisticaController.isDataVotazioneCommReferenteVisible()}">

					<p:column>
						Data Votazione Commissione Referente   
					</p:column>

					<p:column>
						da : <p:calendar locale="it" pattern="dd/MM/yyyy" value="#{reportisticaController.dataVotazioneCommReferenteDa}"></p:calendar>
						a : <p:calendar locale="it" pattern="dd/MM/yyyy" value="#{reportisticaController.dataVotazioneCommReferenteA}"></p:calendar>
					</p:column>

				</p:row>

				<p:row rendered="#{reportisticaController.isDataRitiroVisible()}">

					<p:column>
						Data Ritiro   
					</p:column>

					<p:column>
						da : <p:calendar locale="it" pattern="dd/MM/yyyy" value="#{reportisticaController.dataRitiroDa}"></p:calendar>
						a : <p:calendar locale="it" pattern="dd/MM/yyyy" value="#{reportisticaController.dataRitiroA}"></p:calendar>
					</p:column>


				</p:row>

				<p:row
					rendered="#{reportisticaController.isDataNominaRelatoreVisible()}">

					<p:column>
						Data Nomina Relatore    
					</p:column>

					<p:column>
						da : <p:calendar locale="it" pattern="dd/MM/yyyy" value="#{reportisticaController.dataNominaRelatoreDa}"></p:calendar>
						a : <p:calendar locale="it" pattern="dd/MM/yyyy" value="#{reportisticaController.dataNominaRelatoreA}"></p:calendar>
					</p:column>


				</p:row>

				<p:row rendered="#{reportisticaController.isRelatoriVisible()}">

					<p:column>
						<h:outputLabel for="relatori" value="Relatori: " />
					</p:column>

					<p:column>
						<p:selectOneMenu id="relatori"
							value="#{reportisticaController.relatore}"
							layout="pageDirection">
							<f:selectItems value="#{reportisticaController.relatori}" />
						</p:selectOneMenu>
					</p:column>

				</p:row>

				<p:row rendered="#{reportisticaController.isOrganismoVisible()}">

					<p:column>
						<h:outputLabel for="organismo" value="Organismo: " />
					</p:column>

					<p:column>
						<p:selectOneMenu id="organismo"
							value="#{reportisticaController.organismo}"
							>
							<f:selectItems value="#{reportisticaController.organismi}" />
						</p:selectOneMenu>
					</p:column>


				</p:row>

				<p:row
					rendered="#{reportisticaController.isDataAssegnazioneParereDaVisible()}">

					<p:column>
						Data Assegnazione Parere    
					</p:column>

					<p:column>
						da : <p:calendar locale="it" pattern="dd/MM/yyyy" value="#{reportisticaController.dataAssegnazioneParereDa}"></p:calendar>
						a : <p:calendar locale="it" pattern="dd/MM/yyyy" value="#{reportisticaController.dataAssegnazioneParereA}"></p:calendar>
					</p:column>


				</p:row>

				<p:row rendered="#{reportisticaController.isFirmatarioVisible()}">

					<p:column>
						<h:outputLabel for="firmatario" value="Firmatario: " />
					</p:column>

					<p:selectOneMenu id="firmatario"
						value="#{reportisticaController.firmatario}"
						>
						<f:selectItems value="#{reportisticaController.firmatari}" />
					</p:selectOneMenu>

				</p:row>

				<p:row
					rendered="#{reportisticaController.isTipologiaFirmaVisible()}">

					<p:column>
						<h:outputLabel for="tipologiaFirma" value="Tipologia firma: " />
					</p:column>

					<p:column>
						<p:selectOneMenu id="tipologiaFirma" 
							value="#{lettereNotificheController.tipologiaFirma}" >
					    
					    </p:selectOneMenu>
					</p:column>

				</p:row>

				<p:row
					rendered="#{reportisticaController.isDataPresentazioneVisible()}">

					<p:column>
						Data Presentazione   
					</p:column>

					<p:column>
						da : <p:calendar locale="it" pattern="dd/MM/yyyy" value="#{reportisticaController.dataPresentazioneDa}"></p:calendar>
						a : <p:calendar locale="it" pattern="dd/MM/yyyy" value="#{reportisticaController.dataPresentazioneA}"></p:calendar>
					</p:column>
				</p:row>

				<p:row
					rendered="#{reportisticaController.isDataAssegnazioneCommReferenteVisible()}">

					<p:column>
						Data Assegnazione Commissione Referente   
					</p:column>

					<p:column>
						da : <p:calendar locale="it" pattern="dd/MM/yyyy" value="#{reportisticaController.dataAssegnazioneCommReferenteDa}"></p:calendar>
						a : <p:calendar locale="it" pattern="dd/MM/yyyy" value="#{reportisticaController.dataAssegnazioneCommReferenteA}"></p:calendar>
					</p:column>

				</p:row>

				<p:row rendered="#{reportisticaController.isDataSedutaVisible()}">

					<p:column>
						Data Seduta   
					</p:column>

					<p:column>
						da : <p:calendar locale="it" pattern="dd/MM/yyyy" value="#{reportisticaController.dataSedutaDa}"></p:calendar>
						a : <p:calendar locale="it" pattern="dd/MM/yyyy" value="#{reportisticaController.dataSedutaA}"></p:calendar>
					</p:column>

				</p:row>




			</p:panelGrid>

		</p:outputPanel>

	</p:fieldset>



	<p>


		<p:commandButton value="Genera Report" id="downloadLink" ajax="false"
			onclick="PrimeFaces.monitorDownload(start, stop)">
			<p:fileDownload value="#{lettereNotificheController.file}" />

		</p:commandButton>


	</p>




</h:form>
</html>