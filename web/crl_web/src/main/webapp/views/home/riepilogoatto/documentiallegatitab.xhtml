<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<p:panelGrid styleClass="infoTable" id="documentiallegatipanel">

	<p:row>
		<p:column colspan="3">
			<b><u><h:outputText value="Testi Ufficiali :" />
			</u> </b>
		</p:column>
	</p:row>
	<p:row>
		<p:column colspan="3">


			<p:dataTable id="listaTestiUfficiali"
				value="#{attoBean.atto.testiAtto}" var="testoAtto"
				styleClass="generalInfoTab grey-text">


				<p:column sortBy="#{testoAtto.nome}">
					<f:facet name="header">Testo Dell'Atto</f:facet>
							<h:outputText value="#{testoAtto.nome}" />
						</p:column>

				<p:column sortBy="#{testoAtto.mimetype}">
					<f:facet name="header">Formato</f:facet>
					<!-- <h:outputText value="#{fn:substring(testoAtto.nome, fn:indexOf(testoAtto.nome,'.')+1 ,fn:length(testoAtto.nome) )}" /> -->
					<h:outputText value="#{testoAtto.mimetype}" />
				</p:column>

				<p:column sortBy="#{testoAtto.pubblico}">
					<f:facet name="header">Pubblico</f:facet>
					<h:outputText value="si" rendered="#{testoAtto.pubblico}" />
					<h:outputText value="no" rendered="#{!testoAtto.pubblico}" />
				</p:column>

				<p:column>
					<f:facet name="header">Download</f:facet>

					<p:commandButton id="downloadLink" icon="detail-icon" ajax="false"
						onclick="PrimeFaces.monitorDownload(start, stop)">
						<f:setPropertyActionListener value="#{testoAtto.id}"
							target="#{fileDownloadController.fileId}" />
						<f:setPropertyActionListener value="#{testoAtto.nome}"
							target="#{fileDownloadController.fileName}" />
						<f:setPropertyActionListener value="#{testoAtto.mimetype}"
							target="#{fileDownloadController.fileMimetype}" />
						<p:fileDownload value="#{fileDownloadController.file}" />
					</p:commandButton>

				</p:column>

			</p:dataTable>
			
		</p:column>
	</p:row>

	<p:row>
		<p:column colspan="3">


			<p:dataTable id="listaTestiUfficialiCommissione"
				value="#{attoBean.getTestiAttoCommissione()}" var="testoAtto"
				styleClass="generalInfoTab grey-text">


				<p:column sortBy="#{testoAtto.nome}">
					<f:facet name="header">Testo Dell'Atto votato in commissione</f:facet>
							<h:outputText value="#{testoAtto.nome}" />
						</p:column>

				<p:column sortBy="#{testoAtto.mimetype}">
					<f:facet name="header">Formato</f:facet>
					<!-- <h:outputText value="#{fn:substring(testoAtto.nome, fn:indexOf(testoAtto.nome,'.')+1 ,fn:length(testoAtto.nome) )}" /> -->
					<h:outputText value="#{testoAtto.mimetype}" />
				</p:column>

				<p:column sortBy="#{testoAtto.pubblico}">
					<f:facet name="header">Pubblico</f:facet>
					<h:outputText value="si" rendered="#{testoAtto.pubblico}" />
					<h:outputText value="no" rendered="#{!testoAtto.pubblico}" />
				</p:column>

				<p:column>
					<f:facet name="header">Download</f:facet>

					<p:commandButton id="downloadLink" icon="detail-icon" ajax="false"
						onclick="PrimeFaces.monitorDownload(start, stop)">
						<f:setPropertyActionListener value="#{testoAtto.id}"
							target="#{fileDownloadController.fileId}" />
						<f:setPropertyActionListener value="#{testoAtto.nome}"
							target="#{fileDownloadController.fileName}" />
						<f:setPropertyActionListener value="#{testoAtto.mimetype}"
							target="#{fileDownloadController.fileMimetype}" />
						<p:fileDownload value="#{fileDownloadController.file}" />
					</p:commandButton>

				</p:column>

			</p:dataTable>
			
		</p:column>
	</p:row>

	<p:row>
		<p:column colspan="3">


			<p:dataTable id="listaTestiUfficialiAula"
				value="#{attoBean.getTestiAttoAula()}" var="testoAtto"
				styleClass="generalInfoTab grey-text">


				<p:column sortBy="#{testoAtto.nome}">
					<f:facet name="header">Testo Dell'Atto votato in Aula</f:facet>
							<h:outputText value="#{testoAtto.nome}" />
						</p:column>

				<p:column sortBy="#{testoAtto.mimetype}">
					<f:facet name="header">Formato</f:facet>
					<!-- <h:outputText value="#{fn:substring(testoAtto.nome, fn:indexOf(testoAtto.nome,'.')+1 ,fn:length(testoAtto.nome) )}" /> -->
					<h:outputText value="#{testoAtto.mimetype}" />
				</p:column>

				<p:column sortBy="#{testoAtto.pubblico}">
					<f:facet name="header">Pubblico</f:facet>
					<h:outputText value="si" rendered="#{testoAtto.pubblico}" />
					<h:outputText value="no" rendered="#{!testoAtto.pubblico}" />
				</p:column>

				<p:column>
					<f:facet name="header">Download</f:facet>

					<p:commandButton id="downloadLink" icon="detail-icon" ajax="false"
						onclick="PrimeFaces.monitorDownload(start, stop)">
						<f:setPropertyActionListener value="#{testoAtto.id}"
							target="#{fileDownloadController.fileId}" />
						<f:setPropertyActionListener value="#{testoAtto.nome}"
							target="#{fileDownloadController.fileName}" />
						<f:setPropertyActionListener value="#{testoAtto.mimetype}"
							target="#{fileDownloadController.fileMimetype}" />
						<p:fileDownload value="#{fileDownloadController.file}" />
					</p:commandButton>

				</p:column>

			</p:dataTable>
			
		</p:column>
	</p:row>



	<p:row>
		<p:column colspan="3">
			<b><u><h:outputText value="Allegati :" />
			</u> </b>
		</p:column>
	</p:row>

	<p:row>
		<p:column colspan="3">
			<p:dataTable id="listaAltriAllegati"
				value="#{attoBean.atto.allegati}" var="allegato"
				styleClass="generalInfoTab grey-text">


				<p:column sortBy="#{allegato.nome}">
					<f:facet name="header">Allegati Sevizio Commissioni</f:facet>
					<h:outputText value="#{allegato.nome}" />
				</p:column>

				<p:column sortBy="#{allegato.mimetype}">
					<f:facet name="header">Formato</f:facet>
					<h:outputText value="#{allegato.mimetype}" />
				</p:column>

				<p:column>
					<f:facet name="header">Download</f:facet>

					<p:commandButton id="downloadLink" icon="detail-icon" ajax="false"
						onclick="PrimeFaces.monitorDownload(start, stop)">
						<f:setPropertyActionListener value="#{allegato.id}"
							target="#{fileDownloadController.fileId}" />
						<f:setPropertyActionListener value="#{allegato.nome}"
							target="#{fileDownloadController.fileName}" />
						<f:setPropertyActionListener value="#{allegato.mimetype}"
							target="#{fileDownloadController.fileMimetype}" />
						<p:fileDownload value="#{fileDownloadController.file}" />
					</p:commandButton>

				</p:column>


			</p:dataTable>

			
		</p:column>
	</p:row>

	<p:row>
		<p:column colspan="3">
			<p:dataTable id="listaAltriAllegatiComm"
				value="#{attoBean.getAllegatiCommissioni()}" var="allegato"
				styleClass="generalInfoTab grey-text">


				<p:column sortBy="#{allegato.nome}">
					<f:facet name="header">Allegati Commissioni</f:facet>
					<h:outputText value="#{allegato.nome}" />
				</p:column>

				<p:column sortBy="#{allegato.mimetype}">
					<f:facet name="header">Formato</f:facet>
					<h:outputText value="#{allegato.mimetype}" />
				</p:column>

				<p:column>
					<f:facet name="header">Download</f:facet>

					<p:commandButton id="downloadLink" icon="detail-icon" ajax="false"
						onclick="PrimeFaces.monitorDownload(start, stop)">
						<f:setPropertyActionListener value="#{allegato.id}"
							target="#{fileDownloadController.fileId}" />
						<f:setPropertyActionListener value="#{allegato.nome}"
							target="#{fileDownloadController.fileName}" />
						<f:setPropertyActionListener value="#{allegato.mimetype}"
							target="#{fileDownloadController.fileMimetype}" />
						<p:fileDownload value="#{fileDownloadController.file}" />
					</p:commandButton>

				</p:column>


			</p:dataTable>

			
		</p:column>
	</p:row>


	<p:row>
		<p:column colspan="3">
			<p:dataTable id="listaAltriAllegatiAula"
				value="#{attoBean.getAllegatiAula()}" var="allegato"
				styleClass="generalInfoTab grey-text">


				<p:column sortBy="#{allegato.nome}">
					<f:facet name="header">Allegati Aula</f:facet>
					<h:outputText value="#{allegato.nome}" />
				</p:column>

				<p:column sortBy="#{allegato.mimetype}">
					<f:facet name="header">Formato</f:facet>
					<h:outputText value="#{allegato.mimetype}" />
				</p:column>

				<p:column>
					<f:facet name="header">Download</f:facet>

					<p:commandButton id="downloadLink" icon="detail-icon" ajax="false"
						onclick="PrimeFaces.monitorDownload(start, stop)">
						<f:setPropertyActionListener value="#{allegato.id}"
							target="#{fileDownloadController.fileId}" />
						<f:setPropertyActionListener value="#{allegato.nome}"
							target="#{fileDownloadController.fileName}" />
						<f:setPropertyActionListener value="#{allegato.mimetype}"
							target="#{fileDownloadController.fileMimetype}" />
						<p:fileDownload value="#{fileDownloadController.file}" />
					</p:commandButton>

				</p:column>


			</p:dataTable>

			
		</p:column>
	</p:row>




	<p:row>
		<p:column colspan="3">
			<b><u><h:outputText value="Comitato Ristretto/Gruppo di lavoro: " />
			</u> </b>
		</p:column>
	</p:row>

	<p:row>
		<p:column colspan="3">
			<p:dataTable id="listaAltriAllegatiCommitatoRistr"
				value="#{attoBean.getTestiComitatoRistretto()}" var="allegato"
				styleClass="generalInfoTab grey-text">


				<p:column sortBy="#{allegato.nome}">
					<f:facet name="header">Allegati</f:facet>
					<h:outputText value="#{allegato.nome}" />
				</p:column>

				<p:column sortBy="#{allegato.mimetype}">
					<f:facet name="header">Formato</f:facet>
					<h:outputText value="#{allegato.mimetype}" />
				</p:column>

				<p:column>
					<f:facet name="header">Download</f:facet>

					<p:commandButton id="downloadLink" icon="detail-icon" ajax="false"
						onclick="PrimeFaces.monitorDownload(start, stop)">
						<f:setPropertyActionListener value="#{allegato.id}"
							target="#{fileDownloadController.fileId}" />
						<f:setPropertyActionListener value="#{allegato.nome}"
							target="#{fileDownloadController.fileName}" />
						<f:setPropertyActionListener value="#{allegato.mimetype}"
							target="#{fileDownloadController.fileMimetype}" />
						<p:fileDownload value="#{fileDownloadController.file}" />
					</p:commandButton>

				</p:column>


			</p:dataTable>

			
		</p:column>
	</p:row>


	<p:row>
		<p:column colspan="3">
			<b><u><h:outputText value="Consultazioni:" />
			</u> </b>
		</p:column>
	</p:row>

	<p:row>
		<p:column colspan="3">
			<p:dataTable id="listaAltriAllegatiConsultazioni"
				value="#{attoBean.getAllegatiConsultazioni()}" var="allegato"
				styleClass="generalInfoTab grey-text">


				<p:column sortBy="#{allegato.nome}">
					<f:facet name="header">Allegati</f:facet>
					<h:outputText value="#{allegato.nome}" />
				</p:column>

				<p:column sortBy="#{allegato.mimetype}">
					<f:facet name="header">Formato</f:facet>
					<h:outputText value="#{allegato.mimetype}" />
				</p:column>

				<p:column>
					<f:facet name="header">Download</f:facet>

					<p:commandButton id="downloadLink" icon="detail-icon" ajax="false"
						onclick="PrimeFaces.monitorDownload(start, stop)">
						<f:setPropertyActionListener value="#{allegato.id}"
							target="#{fileDownloadController.fileId}" />
						<f:setPropertyActionListener value="#{allegato.nome}"
							target="#{fileDownloadController.fileName}" />
						<f:setPropertyActionListener value="#{allegato.mimetype}"
							target="#{fileDownloadController.fileMimetype}" />
						<p:fileDownload value="#{fileDownloadController.file}" />
					</p:commandButton>

				</p:column>


			</p:dataTable>

			
		</p:column>
	</p:row>



	<p:row>
		<p:column colspan="3">
			<b><u><h:outputText value="Pareri:" />
			</u> </b>
		</p:column>
	</p:row>

	<p:row>
		<p:column colspan="3">
			<p:dataTable id="listaAltriAllegatiPareri"
				value="#{attoBean.getAllegatiPareri()}" var="allegato"
				styleClass="generalInfoTab grey-text">


				<p:column sortBy="#{allegato.nome}">
					<f:facet name="header">Allegati</f:facet>
					<h:outputText value="#{allegato.nome}" />
				</p:column>

				<p:column sortBy="#{allegato.mimetype}">
					<f:facet name="header">Formato</f:facet>
					<h:outputText value="#{allegato.mimetype}" />
				</p:column>

				<p:column>
					<f:facet name="header">Download</f:facet>

					<p:commandButton id="downloadLink" icon="detail-icon" ajax="false"
						onclick="PrimeFaces.monitorDownload(start, stop)">
						<f:setPropertyActionListener value="#{allegato.id}"
							target="#{fileDownloadController.fileId}" />
						<f:setPropertyActionListener value="#{allegato.nome}"
							target="#{fileDownloadController.fileName}" />
						<f:setPropertyActionListener value="#{allegato.mimetype}"
							target="#{fileDownloadController.fileMimetype}" />
						<p:fileDownload value="#{fileDownloadController.file}" />
					</p:commandButton>

				</p:column>


			</p:dataTable>

			
		</p:column>
	</p:row>





</p:panelGrid>


</html>