<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:form enctype="multipart/form-data">
	<p:panelGrid styleClass="infoTable" id="informazionigeneralipanel">


		<p:row>
			<p:column colspan="3">
				<p>
					<p:growl id="presaCaricoMsg" showDetail="true" sticky="false" />

					<b> <h:outputLabel for="datapresaincarico"
							value="Data presa in carico: " /> <p:calendar size="10"
							locale="it" id="datapresaincarico"
							value="#{attoBean.dataPresaInCarico}" /> </b>
					<p:commandButton value="Presa in Carico" update="presaCaricoMsg"
						actionListener="#{presentazioneAssegnazioneAttoController.presaInCarico}" />
				</p>
			</p:column>
		</p:row>
	</p:panelGrid>
	<p:fieldset legend="Dati dell'Atto" collapsed="false" toggleable="true"
		toggleSpeed="500">

		<p:panelGrid styleClass="infoTable" id="datiattopanel">
			<p:row>
				<p:column>
					<h:outputText style="font-weight: bold;" value="Numero Atto: " />
				</p:column>
				<p:column>
					<p:inputText id="inputnumeroatto" value="#{attoBean.numeroAtto}" />
				</p:column>


				<p:column>
					<h:outputText style="font-weight: bold;" value="Classificazione: " />
				</p:column>
				<p:column>
					<p:inputText id="inputclassificazione"
						value="#{attoBean.classificazione}" />
				</p:column>
			</p:row>

			<p:row>
				<p:column>
					<h:outputText style="font-weight: bold;" value="Oggetto: " />
				</p:column>
				<p:column colspan="3">
					<p:inputTextarea rows="2" cols="82" value="#{attoBean.oggetto}"
						autoResize="false" />
				</p:column>
			</p:row>

			<p:row>
				<p:column>
					<h:outputText style="font-weight: bold;"
						value="Numero repertorio: " />
				</p:column>
				<p:column>
					<p:inputText id="inputnumrepertorio"
						value="#{attoBean.numeroRepertorio}" />
				</p:column>

				<p:column>
					<b> <h:outputLabel for="datarepertorio"
							value="Data Repertorio: " /> </b>
				</p:column>

				<p:column>
					<p:calendar size="10" locale="it" id="datarepertorio"
						value="#{attoBean.dataRepertorio}" />
				</p:column>


			</p:row>

			<p:row>
				<p:column>
					<b> <h:outputText style="font-weight: bold;"
							value="Tipo Iniziativa: " /> </b>
				</p:column>

				<p:column>
					<p:selectOneMenu id="tipoiniziativa"
						value="#{attoBean.tipoIniziativa}" />
				</p:column>

				<p:column>
					<b><h:outputLabel for="datainiziativa"
							value="Data iniziativa: " /> </b>
				</p:column>

				<p:column>
					<p:calendar size="10" locale="it" id="datainiziativa"
						value="#{attoBean.dataIniziativa}" />
				</p:column>


			</p:row>

			<p:row>
				<p:column>
					<h:outputText style="font-weight: bold;"
						value="Descrizione iniziativa: " />
				</p:column>
				<p:column colspan="3">
					<p:inputTextarea rows="2" cols="82" autoResize="false"
						value="#{attoBean.descrizioneIniziativa}" />
				</p:column>
			</p:row>

			<p:row>
				<p:column>
					<h:outputText style="font-weight: bold;" value="Numero DGR: " />

				</p:column>

				<p:column>
					<p:inputText id="inputnumerodgr" value="#{attoBean.numeroDGR}" />
				</p:column>

				<p:column>
					<b> <h:outputLabel for="datadgr" value="Data DGR: " /> </b>
				</p:column>

				<p:column>
					<p:calendar size="10" locale="it" id="datadgr"
						value="#{attoBean.dataDGR}" />
				</p:column>

			</p:row>

			<p:row>
				<p:column>
					<h:outputText style="font-weight: bold;" value="Assegnazione: " />
				</p:column>
				<p:column colspan="3">
					<p:inputText id="inputassegnazione"
						value="#{attoBean.assegnazione}" />
				</p:column>
			</p:row>

		</p:panelGrid>

	</p:fieldset>

	<p:fieldset legend="Testo dell'Atto" collapsed="false"
		toggleable="true" toggleSpeed="500">
		<p:panelGrid styleClass="infoTable" id="testoattopanel">
			<p:row>
				<p:column colspan="4">
					<table class="generalInfoTab" id="testitab" style="width: 90%;"
						border="0">
						<thead>
							<th colspan="2">Testo Dell'Atto</th>
							<th>Documento</th>
							<th>Pubblico</th>
							<th>Opzioni</th>
						</thead>

						<!-- TODO: 
							da implementare la cencellazione e l'aggiunta delle righe sugli opportuni tasti già inseriti
							il campo "download" è da implementare con l'opportuno tag <p:filedownload/> -->

						<tbody>
							<tr>
								<td align="left" colspan="2"><b>PDF</b></td>
								<td align="left"><h:commandLink>
										<h:outputText value="download" />
									</h:commandLink></td>
								<td align="left"><p:selectBooleanCheckbox />
								</td>
								<td align="left"><h:graphicImage alt="delete"
										value="/resources/img/delete.png" />
								</td>

							</tr>

							<tr>
								<td align="left" colspan="2"><b>HTML</b></td>
								<td align="left"><h:commandLink>
										<h:outputText value="download" />
									</h:commandLink></td>
								<td align="left"><p:selectBooleanCheckbox />
								</td>
								<td align="left"><h:graphicImage alt="delete"
										value="/resources/img/delete.png" />
								</td>

							</tr>

							<tr>
								<td align="left" colspan="2"><b>DOC</b></td>
								<td align="left"><h:commandLink>
										<h:outputText value="download" />
									</h:commandLink></td>
								<td align="left"><p:selectBooleanCheckbox />
								</td>
								<td align="left"><h:graphicImage alt="delete"
										value="/resources/img/delete.png" />
								</td>

							</tr>



							<tr>
								<td align="left" colspan="2">Selezionare un documento...</td>
								<td align="left"></td>
								<td align="left"></td>
								<td align="left"></td>
							</tr>

						</tbody>
					</table>
				</p:column>
			</p:row>
			<p:row>
				<!-- <p:column>
					<h:graphicImage alt="add" value="/resources/img/add.png" />
				</p:column>-->
				<p:column>
					<p:fileUpload label="Carica File"
						fileUploadListener="#{presentazioneAssegnazioneAttoController.uploadTestoAtto}"
						mode="advanced" auto="true" />
				</p:column>
			</p:row>
		</p:panelGrid>
	</p:fieldset>

	<p:fieldset legend="Firmatari" toggleable="true" collapsed="false"
		toggleSpeed="500">
		<p:panelGrid styleClass="infoTable" id="firmataripanel">
			<!-- <p:row>
				<p:column>
					<p:commandButton value="Inserimento Multiplo" />
				</p:column>
			</p:row>-->

			<p:row>
				<p:column colspan="6">

					<h:dataTable id="listaFirmatari"
						value="#{presentazioneAssegnazioneAttoController.firmatariList}"
						var="personale" styleClass="generalInfoTab">

						<h:column>
							<f:facet name="header">Nome</f:facet>
							#{personale.descrizione}
    			       </h:column>

						<h:column>
							<f:facet name="header">Gruppo Consiliare</f:facet>

						</h:column>

						<h:column>
							<f:facet name="header">Data Firma</f:facet>

						</h:column>

						<h:column>
							<f:facet name="header">Data Ritiro</f:facet>

						</h:column>
						
						<h:column>
							<f:facet name="header">1° firm.</f:facet>

						</h:column>
						
						<h:column>
							<f:facet name="header">Elimina</f:facet>
                             <h:graphicImage alt="delete"
										value="/resources/img/delete.png" />
						</h:column>
						
					</h:dataTable>
				</p:column>
			</p:row>

			<p:row>
				<p:column>
					<p:panelGrid id="addFirmatarioPanel" columns="5">
						<p:selectOneMenu id="firmatario"
							value="#{presentazioneAssegnazioneAttoController.nomeFirmatario}">
							<f:selectItem itemLabel="Scegli Firmatario" itemValue="" />
							<f:selectItems
								value="#{presentazioneAssegnazioneAttoController.firmatari}" />
						</p:selectOneMenu>

						<p:selectOneMenu id="gruppoconsiliare" />
						<p:calendar size="10" locale="it" id="datafirma" />
						<p:calendar size="10" locale="it" id="dataritiro" />
						<p:selectBooleanCheckbox />
						
					</p:panelGrid>
					
					<p:commandButton value="Aggiungi Firmatario"  action="#{presentazioneAssegnazioneAttoController.addFirmatario}" id="addFirmatario"   
                                     update="listaFirmatari , presaCaricoMsg" icon="new-icon" />  
				</p:column>
			</p:row>


			<p:row>
				<p:column>

				</p:column>

				<p:column>
					<p:commandLink value="Creazione lettera di aggiunta firma" />
				</p:column>
			</p:row>

			<p:row>
				<p:column>
					<p:commandButton value="Ritira per mancanza firmatari" />
				</p:column>

				<p:column>
					<p:commandLink value="Creazione lettera di ritiro firma" />
				</p:column>
			</p:row>
		</p:panelGrid>

	</p:fieldset>
	<p>
		<p:commandButton value="Salva" />
	</p>
</h:form>
</html>
